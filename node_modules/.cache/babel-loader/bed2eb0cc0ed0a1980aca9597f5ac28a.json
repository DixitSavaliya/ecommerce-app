{"ast":null,"code":"var _jsxFileName = \"/var/www/html/ecommerce-app/src/Component/cart/cart.js\";\nimport React from 'react';\nimport API from '../../service/homeservice';\nimport { config } from '../../config';\nimport { MDBBtn, MDBCard, MDBCardBody, MDBRow, MDBCardTitle, MDBCardText, MDBCol } from 'mdbreact';\nimport Swal from 'sweetalert2';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nconst _ = require('lodash');\n\nlet finalArr = [];\nlet priceArr = [];\nlet total = 0;\n\nclass Cart extends React.Component {\n  constructor(props) {\n    console.log(\"props Home======\", props);\n    super(props);\n\n    this.totalFunc = () => {\n      console.log(\"pricearr---==\", priceArr);\n      total = _.sum(priceArr);\n      return total;\n    };\n\n    this.state = {\n      cartItem: '',\n      demo: '',\n      productDetails: [],\n      finalArry: []\n    };\n  }\n\n  componentDidMount() {\n    const value = localStorage.getItem('productId');\n\n    const val = _.uniq(value.split(',')); //dplicate value remove\n\n\n    console.log('value of token-=-=', val);\n\n    const filter = _.filter(val, _.size); // null value remove\n\n\n    console.log('value of filter-=-=', filter, priceArr);\n    finalArr = filter;\n    let finalArrLength = finalArr.length;\n    console.log('cart count in get item=====', finalArrLength);\n    localStorage.setItem('cartCount', finalArrLength.toString());\n    finalArr.map(id => {\n      console.log('id-=-=', id);\n      API.productDetail(id).then(response => {\n        console.log('respone from cart-=-=', response.data.data);\n        response.data.data[0]['qty'] = 1;\n        console.log('priceArr initial-=-=', priceArr, response.data.data[0].price);\n        let index = priceArr.indexOf(response.data.data[0].price);\n\n        if (index === -1) {\n          priceArr.push(response.data.data[0].price);\n        }\n\n        console.log('price array-=-=', priceArr);\n        this.setState({\n          cartItem: [...this.state.cartItem, ...response.data.data]\n        });\n        const obj = {\n          productId: response.data.data[0].productId,\n          quantity: response.data.data[0].qty,\n          price: response.data.data[0].price,\n          name: response.data.data[0].name\n        };\n        this.setState(prevState => ({\n          productDetails: [...prevState.productDetails, obj]\n        }));\n      }).catch(err => {\n        console.log('err from cart-=-=', err);\n      });\n    });\n  }\n  /** \n  * @param {string} id\n  * Delete wishlist\n  */\n\n\n  deleteWishList(id, price) {\n    priceArr.splice(_.findIndex(priceArr, price), 1);\n    console.log(\"pricearr==========>\", priceArr);\n    const index = finalArr.indexOf(id);\n\n    if (index !== -1) {\n      finalArr.splice(index, 1);\n    }\n\n    console.log('finalArr-=-=', finalArr);\n    this.setState({\n      finalArry: finalArr\n    });\n    Swal.fire(\"Successfully Delete!\", \"\", \"success\");\n    localStorage.setItem('productId', finalArr.toString());\n    this.setState({\n      cartItem: ''\n    });\n    priceArr = [];\n    this.componentDidMount();\n  }\n  /** \n  * @param {string} id\n  * Quantity Decrement\n  */\n\n\n  decrement(id) {\n    console.log('index in decrement-=-=', id);\n    console.log(this.state.cartItem[id].qty);\n\n    if (this.state.cartItem[id].qty > 1) {\n      this.state.cartItem[id].qty = this.state.cartItem[id].qty - 1;\n      console.log(\"price=>\", priceArr);\n      const index = priceArr.indexOf(this.state.cartItem[id].price);\n\n      if (index !== -1) {\n        priceArr.splice(index, 1);\n      }\n    }\n\n    this.state.productDetails[id].quantity = this.state.productDetails[id].quantity - 1;\n    console.log(\"details==========\", this.state.productDetails);\n    this.setState({\n      demo: ''\n    });\n  }\n  /** \n  * @param {string} index\n  * Quantity Decrement\n  */\n\n\n  increment(index) {\n    console.log('index in increment-=-=', index);\n    this.state.cartItem[index].qty = this.state.cartItem[index].qty + 1;\n    priceArr.push(this.state.cartItem[index].price);\n    this.state.productDetails[index].quantity = this.state.productDetails[index].quantity + 1;\n    console.log(\"details==========\", this.state.productDetails);\n    this.setState({\n      demo: ''\n    });\n    console.log(this.state.cartItem[index]);\n    console.log(\"after increment=============\", this.state.cartItem[index].qty);\n  }\n  /** Total amount */\n\n\n  render() {\n    let displayData;\n    console.log(\"finalarray==\", this.state.finalArry);\n    if (this.state.cartItem) displayData = this.state.cartItem.map((data, index) => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, data.productImage[0] ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, data.productImage[0].containerName ? React.createElement(\"img\", {\n      src: config.baseMediaUrl + data.productImage[0].containerName + data.productImage[0].image,\n      className: \"img-fluid\",\n      alt: \"product image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }) : React.createElement(\"img\", {\n      src: config.baseMediaUrl + data.productImage[0].image,\n      className: \"img-fluid\",\n      alt: \"product image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    })) : '')), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/singleproduct/\".concat(data._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, data.name)), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-rupee-sign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), \" \", data.price), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.increment(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"+\")), React.createElement(MDBCol, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input\",\n      value: data.qty,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })), React.createElement(MDBCol, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.decrement(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"-\")))), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-trash\",\n      onClick: () => this.deleteWishList(data.productId, data.price),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(MDBCardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(MDBCardTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"Product\"), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Name\"), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Price\"), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Quantity\"), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Action\"))), React.createElement(MDBCardText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, displayData), localStorage.getItem('productId') ? React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text-center mt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \" \", React.createElement(MDBBtn, {\n      color: \"indigo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"Continue With Shopping\")))), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"Total:\", React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, this.totalFunc()))), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: {\n        pathname: '/checkout',\n        state: {\n          name: this.state.productDetails\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \" \", React.createElement(MDBBtn, {\n      color: \"indigo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Proceed To Checkout\")))) : '')))));\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["/var/www/html/ecommerce-app/src/Component/cart/cart.js"],"names":["React","API","config","MDBBtn","MDBCard","MDBCardBody","MDBRow","MDBCardTitle","MDBCardText","MDBCol","Swal","BrowserRouter","Router","Route","Link","_","require","finalArr","priceArr","total","Cart","Component","constructor","props","console","log","totalFunc","sum","state","cartItem","demo","productDetails","finalArry","componentDidMount","value","localStorage","getItem","val","uniq","split","filter","size","finalArrLength","length","setItem","toString","map","id","productDetail","then","response","data","price","index","indexOf","push","setState","obj","productId","quantity","qty","name","prevState","catch","err","deleteWishList","splice","findIndex","fire","decrement","increment","render","displayData","productImage","containerName","baseMediaUrl","image","_id","pathname"],"mappings":"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","sourcesContent":["import React from 'react';\nimport API from '../../service/homeservice';\nimport { config } from '../../config';\nimport { MDBBtn, MDBCard, MDBCardBody, MDBRow, MDBCardTitle, MDBCardText, MDBCol } from 'mdbreact';\nimport Swal from 'sweetalert2';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nconst _ = require('lodash');\nlet finalArr = [];\nlet priceArr = [];\nlet total = 0;\n\nclass Cart extends React.Component {\n    constructor(props) {\n        console.log(\"props Home======\", props);\n        super(props);\n        this.state = {\n            cartItem: '',\n            demo: '',\n            productDetails: [],\n            finalArry:[]\n        }\n    }\n\n    componentDidMount() {\n        const value = localStorage.getItem('productId');\n        const val = _.uniq(value.split(',')); //dplicate value remove\n        console.log('value of token-=-=', val);\n        const filter = _.filter(val, _.size); // null value remove\n        console.log('value of filter-=-=', filter, priceArr);\n        finalArr = filter;\n        let finalArrLength = finalArr.length;\n        console.log('cart count in get item=====', finalArrLength);\n        localStorage.setItem('cartCount', finalArrLength.toString());\n        finalArr.map((id) => {\n            console.log('id-=-=', id);\n            API.productDetail(id)\n                .then((response) => {\n                    console.log('respone from cart-=-=', response.data.data);\n                    response.data.data[0]['qty'] = 1;\n                    console.log('priceArr initial-=-=', priceArr, response.data.data[0].price);\n                    let index = priceArr.indexOf(response.data.data[0].price);\n                    if (index === -1) {\n                        priceArr.push(response.data.data[0].price);\n                    }\n                    console.log('price array-=-=', priceArr);\n                    this.setState({\n                        cartItem: [...this.state.cartItem, ...response.data.data]\n                    })\n                    const obj = {\n                        productId: response.data.data[0].productId,\n                        quantity: response.data.data[0].qty,\n                        price: response.data.data[0].price,\n                        name: response.data.data[0].name\n                    }\n                    this.setState(prevState => ({\n                        productDetails: [...prevState.productDetails, obj]\n                    }))\n                })\n                .catch((err) => {\n                    console.log('err from cart-=-=', err);\n                })\n        })\n    }\n\n    /** \n   * @param {string} id\n   * Delete wishlist\n   */\n    deleteWishList(id,price) {\n        priceArr.splice(_.findIndex(priceArr, price), 1);\n        console.log(\"pricearr==========>\", priceArr)\n        const index = finalArr.indexOf(id);\n        if (index !== -1) {\n            finalArr.splice(index, 1);\n        }\n        console.log('finalArr-=-=', finalArr);\n        this.setState({finalArry:finalArr});\n        Swal.fire(\"Successfully Delete!\", \"\", \"success\");\n        localStorage.setItem('productId', finalArr.toString());\n        this.setState({\n            cartItem: ''\n        })\n        priceArr = [];\n        this.componentDidMount();\n    }\n\n    /** \n   * @param {string} id\n   * Quantity Decrement\n   */\n    decrement(id) {\n        console.log('index in decrement-=-=', id);\n        console.log(this.state.cartItem[id].qty);\n        if (this.state.cartItem[id].qty > 1) {\n            this.state.cartItem[id].qty = this.state.cartItem[id].qty - 1;\n            console.log(\"price=>\", priceArr);\n            const index = priceArr.indexOf(this.state.cartItem[id].price)\n            if (index !== -1) {\n                priceArr.splice(index, 1);\n            }\n        }\n        this.state.productDetails[id].quantity = this.state.productDetails[id].quantity - 1;\n        console.log(\"details==========\", this.state.productDetails);\n        this.setState({\n            demo: ''\n        })\n    }\n\n    /** \n   * @param {string} index\n   * Quantity Decrement\n   */\n    increment(index) {\n        console.log('index in increment-=-=', index);\n        this.state.cartItem[index].qty = this.state.cartItem[index].qty + 1;\n        priceArr.push(this.state.cartItem[index].price);\n        this.state.productDetails[index].quantity = this.state.productDetails[index].quantity + 1;\n        console.log(\"details==========\", this.state.productDetails);\n        this.setState({\n            demo: ''\n        })\n        console.log(this.state.cartItem[index]);\n        console.log(\"after increment=============\", this.state.cartItem[index].qty);\n    }\n\n    /** Total amount */\n    totalFunc = () => {\n        console.log(\"pricearr---==\", priceArr);\n        total = _.sum(priceArr);\n        return total;\n    }\n\n    render() {\n\n        let displayData;\n        console.log(\"finalarray==\",this.state.finalArry);\n        if (this.state.cartItem) displayData = this.state.cartItem.map((data, index) => (\n            <div>\n                <MDBRow>\n                    <MDBCol md=\"2\">\n                        <div>\n                            {(data.productImage[0]) ?\n                                (<div>\n                                    {data.productImage[0].containerName ? (<img src={config.baseMediaUrl + data.productImage[0].containerName + data.productImage[0].image} className=\"img-fluid\" alt=\"product image\" />) : (<img src={config.baseMediaUrl + data.productImage[0].image} className=\"img-fluid\" alt=\"product image\" />)}\n                                </div>) : ('')}\n                        </div>\n                    </MDBCol>\n                    <MDBCol md=\"2\"><Link to={`/singleproduct/${data._id}`}>{data.name}</Link></MDBCol>\n                    <MDBCol md=\"2\"><i class=\"fas fa-rupee-sign\"></i> {data.price}</MDBCol>\n                    <MDBCol md=\"2\">\n                        <MDBRow>\n                            <MDBCol md=\"4\"><button onClick={() => this.increment(index)}>+</button></MDBCol>\n                            <MDBCol md=\"4\"><input className=\"input\" value={data.qty} /></MDBCol>\n                            <MDBCol md=\"4\"><button onClick={() => this.decrement(index)}>-</button></MDBCol>\n                        </MDBRow>\n                    </MDBCol>\n                    <MDBCol md=\"2\">\n                        <i className=\"fas fa-trash\" onClick={() => this.deleteWishList(data.productId,data.price)}></i>\n                    </MDBCol>\n                </MDBRow>\n                <hr />\n            </div>\n        )\n        )\n\n        return (\n            <div>\n                <MDBCol>\n                    <MDBCard>\n                        <MDBCardBody>\n                            <MDBCardTitle>\n                                <MDBRow>\n                                    <MDBCol md=\"2\">Product</MDBCol>\n                                    <MDBCol md=\"2\" >Name</MDBCol>\n                                    <MDBCol md=\"2\">Price</MDBCol>\n                                    <MDBCol md=\"2\">Quantity</MDBCol>\n                                    <MDBCol md=\"2\">Action</MDBCol>\n                                </MDBRow>\n                            </MDBCardTitle>\n                            <MDBCardText>\n                                <div>\n                                    {displayData}\n                                </div>\n                                {\n                                    localStorage.getItem('productId')? ( <div className=\"row\">\n                                    <div className=\"col-md-4\">\n                                        <div className=\"text-center mt-4\">\n                                            <Link to=\"/home\"> <MDBBtn color=\"indigo\">Continue With Shopping</MDBBtn></Link>\n                                        </div>\n                                    </div>\n                                    <div className=\"col-md-4\">\n                                        <span>Total:<h3>{this.totalFunc()}</h3></span>\n                                    </div>\n                                    <div className=\"col-md-4\">\n                                        <Link to={{ pathname: '/checkout', state: { name: this.state.productDetails } }}  > <MDBBtn color=\"indigo\">Proceed To Checkout</MDBBtn></Link>\n                                    </div>\n                                </div>) : ('')\n                                }\n                               \n                            </MDBCardText>\n                        </MDBCardBody>\n                    </MDBCard>\n                </MDBCol>\n            </div>\n        );\n    }\n}\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}