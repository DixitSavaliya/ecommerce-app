{"ast":null,"code":"var _jsxFileName = \"/var/www/html/ecommerce-app/src/Component/wishlist/wishlist.js\";\nimport React from 'react';\nimport API from '../../service/homeservice';\nimport { config } from '../../config';\nimport { MDBContainer, MDBCard, MDBCardBody, MDBRow, MDBCardTitle, MDBCardText, MDBCol } from 'mdbreact';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport Header from '../../Component/home/header/header';\nimport Footer from '../../Component/home/footer/footer';\nimport './wishlist.css';\nimport Swal from 'sweetalert2';\nimport { EventEmitter } from '../../event';\n\nconst _ = require('lodash');\n\nclass WishList extends React.Component {\n  constructor(props) {\n    console.log(\"props Home======\", props);\n    super(props);\n    this.state = {\n      wishList: [],\n      isDeleted: false\n    };\n    EventEmitter.subscribe('length', event => {\n      console.log(\"wishlist=\", event);\n      this.count = event;\n      console.log(\"count=>\", this.count); // this.setState({ count: this.count })\n    });\n  }\n  /** Intailly call */\n\n\n  componentDidMount() {\n    /** Get Wishlist */\n    API.getWishList().then(findresponse => {\n      this.setState({\n        wishList: findresponse.data.data\n      });\n      console.log(\"data==\", this.state.wishList);\n      localStorage.setItem('wishlistLength', this.state.wishList.length);\n    }).catch({\n      status: 500,\n      message: 'Internal Server Error'\n    });\n  }\n  /** \n  * @param {string} id\n  * delete wishlist\n  */\n\n\n  deleteWishList(id) {\n    /** Delete Wishlist */\n    API.deleteWishList(id).then(findresponse => {\n      if (this.state.isDeleted == true) {\n        Swal.fire(\"Item Added Successfully In Cart!\", \"\", \"success\");\n        this.setState({\n          isDeleted: false\n        });\n        this.componentDidMount();\n      } else {\n        Swal.fire(\"Item Deleted Successfully!\", \"\", \"success\");\n        this.componentDidMount();\n      }\n    }).catch({\n      status: 500,\n      message: 'Internal Server Error'\n    });\n  }\n  /** \n   * @param {string} productId\n   * Add Cart function\n   */\n\n\n  addInCart(productId, id) {\n    this.setState({\n      isDeleted: true\n    });\n    this.value = localStorage.getItem('productId');\n    console.log(\"value===\", this.value);\n    const data = [];\n    data.push(this.value);\n    data.push(productId);\n    console.log(\"data\", data);\n    const strVal = data.toString();\n    console.log('strVal=====', strVal);\n    const arrVal = strVal.split(',');\n    console.log('arrVal=====', _.uniq(arrVal));\n\n    const filter = _.filter(_.uniq(arrVal), _.size);\n\n    console.log('filter=====', filter);\n\n    if (this.value) {\n      if (this.value.indexOf(productId) == -1) {\n        console.log(\"new updated\", localStorage.getItem('productId'));\n        Swal.fire(\"Item Added Successfully In Cart!\", \"\", \"success\");\n      } else {\n        console.log(\"new added\", localStorage.getItem('productId'));\n        Swal.fire(\"Already Added In cart!\", \"\", \"warning\");\n      }\n\n      localStorage.setItem('productId', filter);\n      localStorage.setItem('cartCount', filter.length.toString());\n    } else {\n      localStorage.setItem('productId', filter);\n      localStorage.setItem('cartCount', filter.length.toString());\n      Swal.fire(\"Item Added Successfully In Cart!\", \"\", \"success\");\n    }\n\n    setTimeout(this.deleteWishList(id), 10000);\n  }\n\n  render() {\n    let displayData;\n    /** Display wishlist data */\n\n    if (this.state.wishList) displayData = this.state.wishList.map((data, index) => React.createElement(\"div\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, data.productImage ? React.createElement(\"div\", {\n      className: \"img_height\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, data.productImage.containerName ? React.createElement(\"img\", {\n      src: config.baseMediaUrl + data.productImage.containerName + data.productImage.image,\n      className: \"img-fluid\",\n      alt: \"product image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }) : React.createElement(\"img\", {\n      src: config.baseMediaUrl + data.productImage.image,\n      className: \"img-fluid\",\n      alt: \"product image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })) : '')), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/singleproduct/\".concat(data.productId),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, data.product.name)), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-rupee-sign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), \" \", data.product.price), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, data.product.dateAvailable), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-shopping-cart\",\n      \"aria-hidden\": \"true\",\n      onClick: () => this.addInCart(data.productId, data._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      class: \"fas fa-trash\",\n      onClick: () => this.deleteWishList(data._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })), React.createElement(MDBCol, {\n      md: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    })))));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(MDBContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"h4 text-center mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"WishList\")), React.createElement(MDBCol, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(MDBCardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(MDBCardTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Product\"), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Name\"), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Price\"), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Available Date\"), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Action\"), React.createElement(MDBCol, {\n      md: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }))), React.createElement(MDBCardText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, displayData)))))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default WishList;","map":{"version":3,"sources":["/var/www/html/ecommerce-app/src/Component/wishlist/wishlist.js"],"names":["React","API","config","MDBContainer","MDBCard","MDBCardBody","MDBRow","MDBCardTitle","MDBCardText","MDBCol","BrowserRouter","Router","Route","Link","Header","Footer","Swal","EventEmitter","_","require","WishList","Component","constructor","props","console","log","state","wishList","isDeleted","subscribe","event","count","componentDidMount","getWishList","then","findresponse","setState","data","localStorage","setItem","length","catch","status","message","deleteWishList","id","fire","addInCart","productId","value","getItem","push","strVal","toString","arrVal","split","uniq","filter","size","indexOf","setTimeout","render","displayData","map","index","productImage","containerName","baseMediaUrl","image","product","name","price","dateAvailable","_id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport API from '../../service/homeservice';\nimport { config } from '../../config';\nimport { MDBContainer, MDBCard, MDBCardBody, MDBRow, MDBCardTitle, MDBCardText, MDBCol } from 'mdbreact';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport Header from '../../Component/home/header/header';\nimport Footer from '../../Component/home/footer/footer';\nimport './wishlist.css';\nimport Swal from 'sweetalert2';\nimport { EventEmitter } from '../../event';\nconst _ = require('lodash');\n\nclass WishList extends React.Component {\n    constructor(props) {\n        console.log(\"props Home======\", props);\n        super(props);\n        this.state = {\n            wishList: [],\n            isDeleted: false\n        }\n        EventEmitter.subscribe('length', (event) => {\n            console.log(\"wishlist=\", event);\n            this.count = event;\n            console.log(\"count=>\", this.count);\n            // this.setState({ count: this.count })\n        });\n    }\n\n    /** Intailly call */\n    componentDidMount() {\n        /** Get Wishlist */\n        API.getWishList().\n            then((findresponse) => {\n                this.setState({ wishList: findresponse.data.data })\n                console.log(\"data==\", this.state.wishList);\n                localStorage.setItem('wishlistLength', this.state.wishList.length);\n            }).catch(\n                { status: 500, message: 'Internal Server Error' }\n            );\n    }\n\n    /** \n  * @param {string} id\n  * delete wishlist\n  */\n    deleteWishList(id) {\n        /** Delete Wishlist */\n        API.deleteWishList(id).\n            then((findresponse) => {\n                if (this.state.isDeleted == true) {\n                    Swal.fire(\"Item Added Successfully In Cart!\", \"\", \"success\");\n                    this.setState({ isDeleted: false });\n                    this.componentDidMount();\n                } else {\n                    Swal.fire(\"Item Deleted Successfully!\", \"\", \"success\");\n                    this.componentDidMount();\n                }\n            }).catch(\n                { status: 500, message: 'Internal Server Error' }\n            );\n    }\n\n    /** \n     * @param {string} productId\n     * Add Cart function\n     */\n    addInCart(productId, id) {\n        this.setState({ isDeleted: true });\n        this.value = localStorage.getItem('productId');\n        console.log(\"value===\", this.value);\n        const data = []\n        data.push(this.value);\n        data.push(productId);\n        console.log(\"data\", data);\n        const strVal = data.toString();\n        console.log('strVal=====', strVal);\n        const arrVal = strVal.split(',');\n        console.log('arrVal=====', _.uniq(arrVal));\n        const filter = _.filter(_.uniq(arrVal), _.size);\n        console.log('filter=====', filter);\n        if (this.value) {\n            if (this.value.indexOf(productId) == -1) {\n                console.log(\"new updated\", localStorage.getItem('productId'))\n                Swal.fire(\"Item Added Successfully In Cart!\", \"\", \"success\");\n\n            } else {\n                console.log(\"new added\", localStorage.getItem('productId'))\n                Swal.fire(\"Already Added In cart!\", \"\", \"warning\");\n            }\n            localStorage.setItem('productId', filter);\n            localStorage.setItem('cartCount', filter.length.toString());\n        } else {\n            localStorage.setItem('productId', filter);\n            localStorage.setItem('cartCount', filter.length.toString());\n            Swal.fire(\"Item Added Successfully In Cart!\", \"\", \"success\");\n        }\n        setTimeout(\n            this.deleteWishList(id),\n            10000\n        );\n    }\n\n    render() {\n        let displayData;\n\n        /** Display wishlist data */\n        if (this.state.wishList) displayData = this.state.wishList.map((data,index) =>\n            <div key={index}>\n                <MDBRow>\n                    <MDBCol md=\"1\"></MDBCol>\n                    <MDBCol md=\"2\">\n                        <div>\n                     \n                            {(data.productImage) ?\n                                (<div  className=\"img_height\">\n                                    {data.productImage.containerName ? (<img src={config.baseMediaUrl + data.productImage.containerName + data.productImage.image} className=\"img-fluid\" alt=\"product image\" />) : (<img src={config.baseMediaUrl + data.productImage.image} className=\"img-fluid\" alt=\"product image\" />)}\n                                </div>) : ('')}\n                       \n                        </div>\n                    </MDBCol>\n                    <MDBCol md=\"2\"><Link to={`/singleproduct/${data.productId}`}>{data.product.name}</Link></MDBCol>\n                    <MDBCol md=\"2\"><i class=\"fas fa-rupee-sign\"></i> {data.product.price}</MDBCol>\n                    <MDBCol md=\"2\">{data.product.dateAvailable}</MDBCol>\n                    <MDBCol md=\"2\">\n                        <i className=\"fa fa-shopping-cart\" aria-hidden=\"true\" onClick={() => this.addInCart(data.productId, data._id)}></i>\n                        <i class=\"fas fa-trash\" onClick={() => this.deleteWishList(data._id)}></i>\n                    </MDBCol>\n                    <MDBCol md=\"1\"><div></div></MDBCol>\n                </MDBRow>\n            </div>\n        )\n\n        return (\n            <div>\n                <Header />\n                <MDBContainer>\n                    <MDBRow>\n                        <h1 className=\"h4 text-center mb-4\">WishList</h1>\n                    </MDBRow>\n                    <MDBCol>\n                        <MDBCard>\n                            <MDBCardBody>\n                                <MDBCardTitle>\n                                    <MDBRow>\n                                        <MDBCol md=\"1\"></MDBCol>\n                                        <MDBCol md=\"2\">Product</MDBCol>\n                                        <MDBCol md=\"2\">Name</MDBCol>\n                                        <MDBCol md=\"2\">Price</MDBCol>\n                                        <MDBCol md=\"2\">Available Date</MDBCol>\n                                        <MDBCol md=\"2\">Action</MDBCol>\n                                        <MDBCol md=\"1\"></MDBCol>\n                                    </MDBRow>\n                                </MDBCardTitle>\n                                <MDBCardText>\n                                    <div>\n                                    {displayData}\n                                    </div>\n                                </MDBCardText>\n                            </MDBCardBody>\n                        </MDBCard>\n                    </MDBCol>\n                </MDBContainer>\n                <Footer />\n            </div>\n        );\n    }\n}\n\nexport default WishList;\n"]},"metadata":{},"sourceType":"module"}