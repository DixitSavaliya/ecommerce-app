{"ast":null,"code":"var _jsxFileName = \"/var/www/html/ecommerce-app/src/Component/cart/cart.js\";\nimport React from 'react';\nimport API from '../../service/homeservice';\nimport { config } from '../../config';\nimport { MDBBtn, MDBCard, MDBCardBody, MDBRow, MDBCardTitle, MDBCardText, MDBCol } from 'mdbreact';\nimport Swal from 'sweetalert2';\n\nconst _ = require('lodash');\n\nlet finalArr = [];\nlet priceArr = [];\n\nclass Cart extends React.Component {\n  constructor(props) {\n    console.log(\"props Home======\", props);\n    super(props);\n    this.state = {\n      cartItem: '',\n      demo: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    const value = localStorage.getItem('productId');\n\n    const val = _.uniq(value.split(',')); //dplicate value remove\n\n\n    console.log('value of token-=-=', val);\n\n    const filter = _.filter(val, _.size); // null value remove\n\n\n    console.log('value of filter-=-=', filter);\n    finalArr = filter;\n    finalArr.map(id => {\n      console.log('id-=-=', id);\n      API.productDetail(id).then(response => {\n        console.log('respone from cart-=-=', response.data.data);\n        response.data.data[0]['qty'] = 1;\n        this.setState({\n          cartItem: [...this.state.cartItem, ...response.data.data]\n        });\n        console.log('cartItem-=-=', this.state.cartItem);\n      }).catch(err => {\n        console.log('err from cart-=-=', err);\n      });\n    });\n  }\n\n  deleteWishList(id) {\n    const index = finalArr.indexOf(id);\n\n    if (index !== -1) {\n      finalArr.splice(index, 1);\n    }\n\n    console.log('finalArr-=-=', finalArr);\n    Swal.fire(\"Successfully Delete!\", \"\", \"success\");\n    localStorage.setItem('productId', finalArr.toString());\n    this.setState({\n      cartItem: ''\n    });\n    this.componentDidMount();\n  }\n\n  decrement(index) {\n    console.log('index in decrement-=-=', index);\n    const item = this.state.cartItem[index];\n\n    if (this.state.cartItem[index].qty > 1) {\n      this.state.cartItem[index].qty = this.state.cartItem[index].qty - 1;\n      console.log(\"price=>\", priceArr);\n      const index = priceArr.indexOf(this.state.cartItem[id].price);\n\n      if (index !== -1) {\n        priceArr.splice(index, 1);\n      }\n    }\n\n    this.setState({\n      demo: ''\n    });\n    console.log(this.state.cartItem[index]);\n    console.log(\"after decrement=============\", this.state.cartItem[index].qty);\n    this.setState({\n      quantity: this.state.cartItem[index].qty\n    });\n  }\n\n  increment(index) {\n    console.log('index in increment-=-=', index);\n    const item = this.state.cartItem[index];\n    this.state.cartItem[index].qty = this.state.cartItem[index].qty + 1;\n    priceArr.push(this.state.cartItem[index].price);\n    this.setState({\n      demo: ''\n    });\n    console.log(this.state.cartItem[index]);\n    console.log(\"after increment=============\", this.state.cartItem[index].qty);\n    this.setState({\n      quantity: this.state.cartItem[index].qty\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      quantity: event.target.value\n    });\n  }\n\n  render() {\n    let displayData;\n    if (this.state.cartItem) displayData = this.state.cartItem.map((data, index) => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, data.productImage[0] ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, data.productImage[0].containerName ? React.createElement(\"img\", {\n      src: config.baseMediaUrl + data.productImage[0].containerName + data.productImage[0].image,\n      className: \"img-fluid\",\n      alt: \"product image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }) : React.createElement(\"img\", {\n      src: config.baseMediaUrl + data.productImage[0].image,\n      className: \"img-fluid\",\n      alt: \"product image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })) : '')), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, data.name), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-rupee-sign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), \" \", data.price), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.increment(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"+\")), React.createElement(MDBCol, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input\",\n      value: data.qty,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })), React.createElement(MDBCol, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.decrement(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"-\")))), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, _.sum(priceArr)), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-trash\",\n      onClick: () => this.deleteWishList(data.productId),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })))));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(MDBCardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(MDBCardTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Product\"), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Name\"), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Price\"), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Quantity\"), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"total\"), React.createElement(MDBCol, {\n      md: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Action\"))), React.createElement(MDBCardText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, displayData)))));\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["/var/www/html/ecommerce-app/src/Component/cart/cart.js"],"names":["React","API","config","MDBBtn","MDBCard","MDBCardBody","MDBRow","MDBCardTitle","MDBCardText","MDBCol","Swal","_","require","finalArr","priceArr","Cart","Component","constructor","props","console","log","state","cartItem","demo","handleChange","bind","componentDidMount","value","localStorage","getItem","val","uniq","split","filter","size","map","id","productDetail","then","response","data","setState","catch","err","deleteWishList","index","indexOf","splice","fire","setItem","toString","decrement","item","qty","price","quantity","increment","push","event","target","render","displayData","productImage","containerName","baseMediaUrl","image","name","sum","productId"],"mappings":"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","sourcesContent":["import React from 'react';\nimport API from '../../service/homeservice';\nimport { config } from '../../config';\nimport { MDBBtn, MDBCard, MDBCardBody, MDBRow, MDBCardTitle, MDBCardText, MDBCol } from 'mdbreact';\nimport Swal from 'sweetalert2';\nconst _ = require('lodash');\n\nlet finalArr = [];\nlet priceArr = [];\n\nclass Cart extends React.Component {\n    constructor(props) {\n        console.log(\"props Home======\", props);\n        super(props);\n        this.state = {\n            cartItem: '',\n            demo: ''\n        }\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    componentDidMount() {\n        const value = localStorage.getItem('productId');\n        const val = _.uniq(value.split(',')); //dplicate value remove\n        console.log('value of token-=-=', val);\n        const filter = _.filter(val, _.size); // null value remove\n        console.log('value of filter-=-=', filter);\n        finalArr = filter;\n        finalArr.map((id) => {\n            console.log('id-=-=', id);\n            API.productDetail(id)\n                .then((response) => {\n                    console.log('respone from cart-=-=', response.data.data);\n                    response.data.data[0]['qty'] = 1;\n                    this.setState({\n                        cartItem: [...this.state.cartItem, ...response.data.data]\n                    })\n                    console.log('cartItem-=-=', this.state.cartItem);\n                })\n                .catch((err) => {\n                    console.log('err from cart-=-=', err);\n                })\n        })\n    }\n\n\n    deleteWishList(id) {\n        const index = finalArr.indexOf(id);\n        if (index !== -1) {\n            finalArr.splice(index, 1);\n        }\n        console.log('finalArr-=-=', finalArr);\n        Swal.fire(\"Successfully Delete!\", \"\", \"success\");\n        localStorage.setItem('productId', finalArr.toString());\n        this.setState({\n            cartItem: ''\n        })\n        this.componentDidMount();\n    }\n\n    decrement(index) {\n        console.log('index in decrement-=-=', index);\n        const item = this.state.cartItem[index];\n        if (this.state.cartItem[index].qty > 1) {\n            this.state.cartItem[index].qty = this.state.cartItem[index].qty - 1;\n            console.log(\"price=>\", priceArr);\n            const index = priceArr.indexOf(this.state.cartItem[id].price)\n            if (index !== -1) {\n                priceArr.splice(index, 1);\n            }\n        }\n        this.setState({\n            demo: ''\n        })\n        console.log(this.state.cartItem[index]);\n        console.log(\"after decrement=============\", this.state.cartItem[index].qty);\n        this.setState({ quantity: this.state.cartItem[index].qty })\n    }\n\n    increment(index) {\n        console.log('index in increment-=-=', index);\n        const item = this.state.cartItem[index];\n        this.state.cartItem[index].qty = this.state.cartItem[index].qty + 1;\n        priceArr.push(this.state.cartItem[index].price);\n        this.setState({\n            demo: ''\n        })\n        console.log(this.state.cartItem[index]);\n        console.log(\"after increment=============\", this.state.cartItem[index].qty);\n        this.setState({ quantity: this.state.cartItem[index].qty })\n    }\n\n    handleChange(event) {\n        this.setState({ quantity: event.target.value });\n    }\n\n    render() {\n\n        let displayData;\n\n        if (this.state.cartItem) displayData = this.state.cartItem.map((data, index) => (\n            <div>\n                <MDBRow>\n                    <MDBCol md=\"2\">\n                        <div>\n                            {(data.productImage[0]) ?\n                                (<div>\n                                    {data.productImage[0].containerName ? (<img src={config.baseMediaUrl + data.productImage[0].containerName + data.productImage[0].image} className=\"img-fluid\" alt=\"product image\" />) : (<img src={config.baseMediaUrl + data.productImage[0].image} className=\"img-fluid\" alt=\"product image\" />)}\n                                </div>) : ('')}\n                        </div>\n                    </MDBCol>\n                    <MDBCol md=\"2\">{data.name}</MDBCol>\n                    <MDBCol md=\"2\"><i class=\"fas fa-rupee-sign\"></i> {data.price}</MDBCol>\n                    <MDBCol md=\"2\">\n                        <MDBRow>\n                            <MDBCol md=\"4\"><button onClick={() => this.increment(index)}>+</button></MDBCol>\n                            <MDBCol md=\"4\"><input className=\"input\" value={data.qty} onChange={this.handleChange} /></MDBCol>\n                            <MDBCol md=\"4\"><button onClick={() => this.decrement(index)}>-</button></MDBCol>\n                        </MDBRow>\n                    </MDBCol>\n                    <MDBCol md=\"2\">\n                        {_.sum(priceArr)}\n                    </MDBCol>\n                    <MDBCol md=\"2\">\n                        <i className=\"fas fa-trash\" onClick={() => this.deleteWishList(data.productId)}></i>\n                    </MDBCol>\n                </MDBRow>\n            </div>\n        )\n        )\n\n        return (\n            <div>\n                <MDBCol>\n                    <MDBCard>\n                        <MDBCardBody>\n\n                            <MDBCardTitle>\n                                <MDBRow>\n                                    <MDBCol md=\"2\">Product</MDBCol>\n                                    <MDBCol md=\"2\">Name</MDBCol>\n                                    <MDBCol md=\"2\">Price</MDBCol>\n                                    <MDBCol md=\"2\">Quantity</MDBCol>\n                                    <MDBCol md=\"2\">total</MDBCol>\n                                    <MDBCol md=\"2\">Action</MDBCol>\n                                </MDBRow>\n                            </MDBCardTitle>\n                            <MDBCardText>\n                                {displayData}\n                            </MDBCardText>\n                        </MDBCardBody>\n                    </MDBCard>\n                </MDBCol>\n            </div>\n        );\n    }\n}\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}