{"ast":null,"code":"var _jsxFileName = \"/var/www/html/ecommerce-app/src/Component/singleproduct/singleproduct.js\";\nimport React from 'react';\nimport API from '../../service/homeservice';\nimport { config } from '../../config';\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport { Carousel } from 'react-responsive-carousel';\nimport { MDBContainer, MDBRow, MDBCol, MDBCard, MDBCardBody, MDBCardImage, MDBCardTitle, MDBCardText } from \"mdbreact\";\nimport './singleproduct.css';\nimport renderHTML from 'react-render-html';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport Header from '../../Component/home/header/header';\nimport Footer from '../../Component/home/footer/footer';\nimport Swal from 'sweetalert2';\n\nconst _ = require('lodash');\n\nlet finalArr = [];\nlet priceArr = [];\nlet total = 0;\n\nclass SingleProduct extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cartItem: '',\n      demo: '',\n      productDetailList: [],\n      relatedProductList: [],\n      images: [],\n      isFetching: true,\n      productId: ''\n    };\n    this.relatedProduct = this.relatedProduct.bind(this);\n  }\n  /** Intially call */\n\n\n  componentDidMount() {\n    const query = this.props.location.pathname.split('/')[2];\n    /** Product details */\n\n    API.productDetail(query).then(findresponse => {\n      this.state.isFetching = false;\n      this.setState({\n        productDetailList: findresponse.data.data\n      });\n      console.log(\"productDetailList\", this.state.productDetailList);\n      this.state.productDetailList[0]['qty'] = 1;\n      this.setState({\n        cartItem: [...this.state.cartItem, ...this.state.productDetailList]\n      });\n      this.state.cartItem.map(data => data.productImage ? data.productImage.map(list => list.containerName ? this.setState({\n        images: [...this.state.images, config.baseMediaUrl + list.containerName + list.image]\n      }) : this.setState({\n        images: [...this.state.images, config.baseMediaUrl + list.image]\n      })) : null);\n    }).catch({\n      status: 500,\n      message: 'Internal Server Error'\n    });\n    this.relatedProduct(query);\n  }\n  /** \n   * @param {string} productId\n   * Add Cart function\n   */\n\n\n  addInCart(productId, qty) {\n    const obj = {\n      productId: productId,\n      qty: qty\n    };\n    this.value = localStorage.getItem('productId');\n    console.log(\"value===\", this.value);\n    const data = [];\n    data.push(this.value);\n    data.push(productId);\n    console.log(\"data\", data);\n    this.qtyobject = localStorage.getItem('qtyObject');\n    console.log(\"qtyobject==\", this.qtyobject);\n    const dta = [];\n    dta.push(JSON.parse(this.qtyobject));\n    dta.push(obj);\n    console.log(\"dta====\", dta);\n    var filtered = dta.filter(function (el) {\n      return el != \"\";\n    });\n    console.log(\"dta===\", filtered); // const filterObject = _.filter(_.uniq(filtered), _.size);\n    // console.log('filter=====', filterObject);\n\n    localStorage.setItem('qtyObject', JSON.stringify(filtered));\n    const strVal = data.toString();\n    console.log('strVal=====', strVal);\n    const arrVal = strVal.split(',');\n    console.log('arrVal=====', _.uniq(arrVal));\n\n    const filter = _.filter(_.uniq(arrVal), _.size);\n\n    console.log('filter=====', filter);\n\n    if (this.value) {\n      if (this.value.indexOf(productId) == -1) {\n        console.log(\"new updated\", localStorage.getItem('productId'));\n        Swal.fire(\"Item Added Successfully In Cart!\", \"\", \"success\");\n      } else {\n        console.log(\"new added\", localStorage.getItem('productId'));\n        Swal.fire(\"Already Added In cart!\", \"\", \"warning\");\n      }\n\n      localStorage.setItem('productId', filter);\n      localStorage.setItem('cartCount', filter.length.toString());\n    } else {\n      localStorage.setItem('productId', filter);\n      localStorage.setItem('cartCount', filter.length.toString());\n      Swal.fire(\"Item Added Successfully In Cart!\", \"\", \"success\");\n    }\n  }\n  /**\n  * @param {string} productId\n  * Add Wishlist function\n  */\n\n\n  addWishList(productId) {\n    const obj = {\n      productId: productId\n    };\n\n    if (localStorage.getItem('token')) {\n      /** Add wishlist */\n      API.addwishlist(obj).then(findresponse => {\n        console.log(\"addWishList response===\", findresponse);\n        Swal.fire(\"Item Added Successfully In Wishlist!\", \"\", \"success\");\n      }).catch(err => {\n        Swal.fire(\"Already Added In Wishlist!\", \"\", \"warning\");\n      });\n    } else {\n      Swal.fire(\"Please Login First\");\n    }\n  }\n  /** \n  * @param {string} productId\n  * relatedProduct functionality\n  */\n\n\n  relatedProduct(productId) {\n    console.log(\"productId======\", productId);\n    /** Releated Product */\n\n    API.relatedProduct(productId).then(findresponse => {\n      console.log(\"relatedProduct response===\", findresponse);\n      this.setState({\n        relatedProductList: findresponse.data.data\n      });\n      console.log(\"related product==\", this.state.relatedProductList);\n    }).catch({\n      status: 500,\n      message: 'Internal Server Error'\n    });\n  }\n  /** \n  * @param {string} id\n  * Quantity Decrement\n  */\n\n\n  decrement(id) {\n    console.log('index in decrement-=-=', id);\n    console.log(this.state.cartItem[id].qty);\n\n    if (this.state.cartItem[id].qty > 1) {\n      this.state.cartItem[id].qty = this.state.cartItem[id].qty - 1;\n      console.log(\"price=>\", priceArr);\n      const index = priceArr.indexOf(this.state.cartItem[id].price);\n\n      if (index !== -1) {\n        priceArr.splice(index, 1);\n      }\n    }\n\n    this.setState({\n      demo: ''\n    });\n  }\n  /** \n  * @param {string} index\n  * Quantity Decrement\n  */\n\n\n  increment(index) {\n    console.log('index in increment-=-=', index); // console.log(\"details===\",this.state.productDetailList);\n\n    this.state.cartItem[index].qty = this.state.cartItem[index].qty + 1;\n    priceArr.push(this.state.cartItem[index].price); // this.state.productDetails[index].quantity = this.state.productDetails[index].quantity + 1;\n\n    console.log(\"details==========\", this.state.cartItem);\n    this.setState({\n      demo: ''\n    });\n    console.log(this.state.cartItem[index]);\n    console.log(\"after increment=============\", this.state.cartItem[index].qty);\n  }\n\n  render() {\n    let displayData;\n    let displayDisc;\n    let displayRelatedData;\n    /** Display Single Product details */\n\n    if (this.state.cartItem) displayData = this.state.cartItem.map((data, index) => React.createElement(\"div\", {\n      className: \"single_product\",\n      \"data-aos\": \"flip-left\",\n      \"data-aos-duration\": \"1500\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"product_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"product_text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"product_type\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, data.metaTagTitle), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, data.name), React.createElement(\"ul\", {\n      className: \"ratings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-star\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      className: \"fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-star\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      className: \"fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-star\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      className: \"fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-star\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-star\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-rupee-sign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }), \" \", React.createElement(\"span\", {\n      className: \"procuct_price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, data.price)), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.increment(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"+\")), React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input\",\n      value: data.qty,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.decrement(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, \"-\")), React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-blue\",\n      onClick: () => this.addInCart(data.productId, data.qty),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Add Cart\"))), React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-blue\",\n      onClick: () => this.addWishList(data.productId),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"Add WishList\")))))));\n    /** Discription Of Single product */\n\n    if (this.state.productDetailList) displayDisc = this.state.productDetailList.map(data => React.createElement(MDBCol, {\n      md: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \" \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \"Discription:\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \" \", renderHTML(data.description))));\n    /** Display Releated Product */\n\n    if (this.state.relatedProductList) displayRelatedData = this.state.relatedProductList.map(data => React.createElement(MDBCol, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      style: {\n        width: \"22rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, data.productImage ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, data.productImage.containerName ? React.createElement(MDBCardImage, {\n      className: \"img-fluid\",\n      src: config.baseMediaUrl + data.productImage.containerName + data.productImage.image,\n      className: \"img-fluid\",\n      alt: \"product image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }) : React.createElement(MDBCardImage, {\n      className: \"img-fluid\",\n      src: config.baseMediaUrl + data.productImage.image,\n      className: \"img-fluid\",\n      alt: \"product image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    })) : '', React.createElement(MDBCardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(MDBCardTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, data.metaTagTitle), React.createElement(MDBCardText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text_color\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/singleproduct/\".concat(data.productId),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, data.name)), React.createElement(\"ul\", {\n      className: \"ratings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-star\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      className: \"fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-star\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      className: \"fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-star\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      className: \"fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-star\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-star\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"Price:\"), \" \", React.createElement(\"i\", {\n      class: \"fas fa-rupee-sign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }), \" \", React.createElement(\"span\", {\n      className: \"procuct_price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, data.price)))))));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }), React.createElement(MDBContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(Carousel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, this.state.images.map(data => React.createElement(\"div\", {\n      className: \"inner-slider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }))))), React.createElement(MDBCol, {\n      md: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"product_section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"section_title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, \"New Products\")), React.createElement(\"div\", {\n      className: \"product_slider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, displayData))))), React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, displayDisc)), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }), React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, this.state.relatedProductList.length > 0 ? React.createElement(\"section\", {\n      className: \"product_section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"section_title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, \"Related Products\")), React.createElement(\"div\", {\n      className: \"product_slider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, displayRelatedData))) : null)), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default SingleProduct;","map":{"version":3,"sources":["/var/www/html/ecommerce-app/src/Component/singleproduct/singleproduct.js"],"names":["React","API","config","Carousel","MDBContainer","MDBRow","MDBCol","MDBCard","MDBCardBody","MDBCardImage","MDBCardTitle","MDBCardText","renderHTML","BrowserRouter","Router","Route","Link","Header","Footer","Swal","_","require","finalArr","priceArr","total","SingleProduct","Component","constructor","props","state","cartItem","demo","productDetailList","relatedProductList","images","isFetching","productId","relatedProduct","bind","componentDidMount","query","location","pathname","split","productDetail","then","findresponse","setState","data","console","log","map","productImage","list","containerName","baseMediaUrl","image","catch","status","message","addInCart","qty","obj","value","localStorage","getItem","push","qtyobject","dta","JSON","parse","filtered","filter","el","setItem","stringify","strVal","toString","arrVal","uniq","size","indexOf","fire","length","addWishList","addwishlist","err","decrement","id","index","price","splice","increment","render","displayData","displayDisc","displayRelatedData","metaTagTitle","name","description","width"],"mappings":"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","sourcesContent":["import React from 'react';\nimport API from '../../service/homeservice';\nimport { config } from '../../config';\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport { Carousel } from 'react-responsive-carousel';\nimport { MDBContainer, MDBRow, MDBCol, MDBCard, MDBCardBody, MDBCardImage, MDBCardTitle, MDBCardText } from \"mdbreact\";\nimport './singleproduct.css';\nimport renderHTML from 'react-render-html';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport Header from '../../Component/home/header/header';\nimport Footer from '../../Component/home/footer/footer';\nimport Swal from 'sweetalert2';\nconst _ = require('lodash');\nlet finalArr = [];\nlet priceArr = [];\nlet total = 0;\n\nclass SingleProduct extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            cartItem: '',\n            demo: '',\n            productDetailList: [],\n            relatedProductList: [],\n            images: [],\n            isFetching: true,\n            productId: ''\n        }\n        this.relatedProduct = this.relatedProduct.bind(this);\n    }\n\n    /** Intially call */\n    componentDidMount() {\n        const query = this.props.location.pathname.split('/')[2];\n        /** Product details */\n        API.productDetail(query).\n        then((findresponse) => {\n            this.state.isFetching = false;\n            this.setState({ productDetailList: findresponse.data.data });\n            console.log(\"productDetailList\", this.state.productDetailList);\n            this.state.productDetailList[0]['qty'] = 1;\n            this.setState({\n                cartItem: [...this.state.cartItem, ...this.state.productDetailList]\n            })\n            this.state.cartItem.map(data =>\n                data.productImage ? (\n                    data.productImage.map(list =>\n                        list.containerName ? (this.setState({\n                            images: [...this.state.images, config.baseMediaUrl + list.containerName + list.image]\n                        })) : (this.setState({\n                            images: [...this.state.images, config.baseMediaUrl + list.image]\n                        }))\n                        )\n                    ) : (null)\n                )\n        }).catch(\n        { status: 500, message: 'Internal Server Error' }\n        );\n        this.relatedProduct(query);\n    }\n\n    /** \n     * @param {string} productId\n     * Add Cart function\n     */\n     addInCart(productId, qty) {\n         const obj = {\n             productId:productId,\n             qty:qty\n         }\n         this.value = localStorage.getItem('productId');\n         console.log(\"value===\", this.value);\n         const data = []\n         data.push(this.value);\n         data.push(productId);\n         console.log(\"data\", data);\n         this.qtyobject = localStorage.getItem('qtyObject');\n         console.log(\"qtyobject==\",this.qtyobject);\n         const dta = []\n         dta.push(JSON.parse(this.qtyobject));\n         dta.push(obj);\n         console.log(\"dta====\",dta);\n         var filtered = dta.filter(function (el) {\n             return el != \"\";\n         });\n         console.log(\"dta===\",filtered);\n         // const filterObject = _.filter(_.uniq(filtered), _.size);\n         // console.log('filter=====', filterObject);\n         localStorage.setItem('qtyObject', JSON.stringify(filtered));\n\n         const strVal = data.toString();\n         console.log('strVal=====', strVal);\n         const arrVal = strVal.split(',');\n         console.log('arrVal=====', _.uniq(arrVal));\n         const filter = _.filter(_.uniq(arrVal), _.size);\n         console.log('filter=====', filter);\n         if (this.value) {\n             if (this.value.indexOf(productId) == -1) {\n                 console.log(\"new updated\", localStorage.getItem('productId'))\n                 Swal.fire(\"Item Added Successfully In Cart!\", \"\", \"success\");\n             } else {\n                 console.log(\"new added\", localStorage.getItem('productId'))\n                 Swal.fire(\"Already Added In cart!\", \"\", \"warning\");\n             }\n             localStorage.setItem('productId', filter);\n             localStorage.setItem('cartCount', filter.length.toString());\n         } else {\n             localStorage.setItem('productId', filter);\n             localStorage.setItem('cartCount', filter.length.toString());\n             Swal.fire(\"Item Added Successfully In Cart!\", \"\", \"success\");\n         }\n     }\n\n    /**\n   * @param {string} productId\n   * Add Wishlist function\n   */\n   addWishList(productId) {\n       const obj = {\n           productId: productId\n       }\n       if (localStorage.getItem('token')) {\n           /** Add wishlist */\n           API.addwishlist(obj).\n           then((findresponse) => {\n               console.log(\"addWishList response===\", findresponse);\n               Swal.fire(\"Item Added Successfully In Wishlist!\", \"\", \"success\");\n           }).catch((err) => {\n               Swal.fire(\"Already Added In Wishlist!\", \"\", \"warning\");\n           });\n       } else {\n           Swal.fire(\"Please Login First\");\n       }\n   }\n\n    /** \n   * @param {string} productId\n   * relatedProduct functionality\n   */\n   relatedProduct(productId) {\n       console.log(\"productId======\", productId);\n       /** Releated Product */\n       API.relatedProduct(productId).\n       then((findresponse) => {\n           console.log(\"relatedProduct response===\", findresponse);\n           this.setState({ relatedProductList: findresponse.data.data });\n           console.log(\"related product==\", this.state.relatedProductList);\n       }).catch(\n       { status: 500, message: 'Internal Server Error' }\n       );\n   }\n\n    /** \n   * @param {string} id\n   * Quantity Decrement\n   */\n   decrement(id) {\n       console.log('index in decrement-=-=', id);\n       console.log(this.state.cartItem[id].qty);\n       if (this.state.cartItem[id].qty > 1) {\n           this.state.cartItem[id].qty = this.state.cartItem[id].qty - 1;\n           console.log(\"price=>\", priceArr);\n           const index = priceArr.indexOf(this.state.cartItem[id].price)\n           if (index !== -1) {\n               priceArr.splice(index, 1);\n           }\n       }\n       this.setState({\n           demo: ''\n       })\n   }\n\n    /** \n    * @param {string} index\n    * Quantity Decrement\n    */\n    increment(index) {\n        console.log('index in increment-=-=', index);\n        // console.log(\"details===\",this.state.productDetailList);\n        this.state.cartItem[index].qty = this.state.cartItem[index].qty + 1;\n        priceArr.push(this.state.cartItem[index].price);\n        // this.state.productDetails[index].quantity = this.state.productDetails[index].quantity + 1;\n        console.log(\"details==========\", this.state.cartItem);\n        this.setState({\n            demo: ''\n        })\n        console.log(this.state.cartItem[index]);\n        console.log(\"after increment=============\", this.state.cartItem[index].qty);\n    }\n\n\n    render() {\n        let displayData;\n        let displayDisc;\n        let displayRelatedData;\n\n        /** Display Single Product details */\n        if (this.state.cartItem) displayData = this.state.cartItem.map((data, index) =>\n            <div className=\"single_product\" data-aos=\"flip-left\" data-aos-duration=\"1500\">\n            <div className=\"product_content\">\n            <div className=\"product_text\">\n            <span className=\"product_type\">{data.metaTagTitle}</span>\n            <p>{data.name}</p>\n            <ul className=\"ratings\">\n            <li className=\"fill\"><i className=\"fa fa-star\" aria-hidden=\"true\"></i></li>\n            <li className=\"fill\"><i className=\"fa fa-star\" aria-hidden=\"true\"></i></li>\n            <li className=\"fill\"><i className=\"fa fa-star\" aria-hidden=\"true\"></i></li>\n            <li className=\"fill\"><i className=\"fa fa-star\" aria-hidden=\"true\"></i></li>\n            <li><i className=\"fa fa-star\" aria-hidden=\"true\"></i></li>\n            </ul>\n            <p><i class=\"fas fa-rupee-sign\"></i> <span className=\"procuct_price\">{data.price}</span></p>\n            <div className=\"row\">\n            <div className=\"col-md-3\">\n\n            </div>\n            <div className=\"col-md-2\">\n            <button onClick={() => this.increment(index)}>+</button>\n            </div>\n            <div className=\"col-md-2\">\n            <input className=\"input\" value={data.qty} />\n            </div>\n            <div className=\"col-md-2\">\n            <button onClick={() => this.decrement(index)}>-</button>\n            </div>\n            <div className=\"col-md-3\">\n\n            </div>\n            </div>\n            </div>\n            <div className=\"row\">\n            <div className=\"col-md-6\">\n            <button className=\"btn btn-blue\" onClick={() => this.addInCart(data.productId, data.qty)}>\n            <span>Add Cart</span>\n            </button>\n            </div>\n            <div className=\"col-md-6\">\n            <button className=\"btn btn-blue\" onClick={() => this.addWishList(data.productId)}>\n            <span>Add WishList</span>\n            </button>\n            </div>\n            </div>\n            </div>\n            </div>\n            )\n\n            /** Discription Of Single product */\n            if (this.state.productDetailList) displayDisc = this.state.productDetailList.map(data =>\n                <MDBCol md=\"6\">\n                <h3> <b>Discription:</b></h3>\n                <p> {renderHTML(data.description)}</p>\n                </MDBCol>\n                )\n\n                /** Display Releated Product */\n            if (this.state.relatedProductList) displayRelatedData = this.state.relatedProductList.map(data =>\n\n                <MDBCol>\n                <MDBCard style={{ width: \"22rem\" }}>\n                {(data.productImage) ?\n                    (<div>\n                        {data.productImage.containerName ? (<MDBCardImage className=\"img-fluid\" src={config.baseMediaUrl + data.productImage.containerName + data.productImage.image} className=\"img-fluid\" alt=\"product image\" />) : (<MDBCardImage className=\"img-fluid\" src={config.baseMediaUrl + data.productImage.image} className=\"img-fluid\" alt=\"product image\" />)}\n                        </div>) : ('')}\n\n                    <MDBCardBody>\n                    <MDBCardTitle>{data.metaTagTitle}</MDBCardTitle>\n                    <MDBCardText>\n                    <p className=\"text_color\"><Link to={`/singleproduct/${data.productId}`}>{data.name}</Link></p>\n                    <ul className=\"ratings\">\n                    <li className=\"fill\"><i className=\"fa fa-star\" aria-hidden=\"true\"></i></li>\n                    <li className=\"fill\"><i className=\"fa fa-star\" aria-hidden=\"true\"></i></li>\n                    <li className=\"fill\"><i className=\"fa fa-star\" aria-hidden=\"true\"></i></li>\n                    <li className=\"fill\"><i className=\"fa fa-star\" aria-hidden=\"true\"></i></li>\n                    <li><i className=\"fa fa-star\" aria-hidden=\"true\"></i></li>\n                    </ul>\n                    <p><b>Price:</b> <i class=\"fas fa-rupee-sign\"></i> <span className=\"procuct_price\">{data.price}</span></p>\n                    </MDBCardText>\n                    </MDBCardBody>\n                    </MDBCard>\n                    </MDBCol>\n\n                    )\n\n                return (\n                    <div>\n                    <Header />\n                    <MDBContainer>\n                    <MDBRow>\n                    <MDBCol md=\"4\">\n                    <Carousel>\n                    {\n                        this.state.images.map(data =>\n                            <div className=\"inner-slider\">\n                            <img src={data} />\n                            </div>\n                            )\n                    }\n                    </Carousel>\n                    </MDBCol>\n                    <MDBCol md=\"8\">\n                    <section className=\"product_section\">\n                    <div className=\"container\">\n                    <div className=\"section_title\">\n                    <h3>New Products</h3>\n                    </div>\n                    <div className=\"product_slider\">\n                    {displayData}\n                    </div>\n                    </div>\n                    </section>\n                    </MDBCol>\n                    </MDBRow>\n                    <MDBRow>\n                    <div>\n                    {displayDisc}\n                    </div>\n                    </MDBRow>\n                    <hr />\n                    <MDBRow>\n                    {\n                        this.state.relatedProductList.length > 0 ? (<section className=\"product_section\">\n                            <div className=\"container\">\n                            <div className=\"section_title\">\n                            <h3>Related Products</h3>\n                            </div>\n                            <div className=\"product_slider\">\n                            {displayRelatedData}\n                            </div>\n                            </div>\n                            </section>) : (null)\n                    }\n                    </MDBRow>\n                    </MDBContainer>\n                    <Footer />\n                    </div>\n                    );\n            }\n        }\n\n        export default SingleProduct;\n"]},"metadata":{},"sourceType":"module"}